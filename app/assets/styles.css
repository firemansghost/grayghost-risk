:root{
  --green:#00E676;
  --yellow:#FFC400;
  --orange:#FF6D00;
  --red:#D50000;
  --bg:#0B0F14;
  --card:#121826;
  --text:#E6EDF7;
  --muted:#9FB0C3;
  --accent:#48A3FF;
}
*{box-sizing:border-box}
html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:linear-gradient(90deg,#09121c,#0f1a27)}
.brand{font-weight:800;letter-spacing:0.3px}
.asof{color:var(--muted);font-size:14px}
.container{max-width:1100px;margin:20px auto;padding:0 16px}
.hero{display:grid;grid-template-columns:1fr 2fr;gap:18px;align-items:stretch}
.score-card{background:var(--card);padding:20px;border-radius:12px;display:flex;flex-direction:column;gap:10px;box-shadow:0 0 0 1px rgba(255,255,255,.04) inset}
.label{color:var(--muted);font-size:14px}
.score{font-size:54px;font-weight:900;line-height:1.1}
.pill{display:inline-block;padding:6px 10px;border-radius:999px;font-size:13px;font-weight:700;color:#000}
.band.green{background:var(--green)}
.band.yellow{background:var(--yellow)}
.band.orange{background:var(--orange)}
.band.red{background:var(--red)}
.gauges{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.gauge{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 0 0 1px rgba(255,255,255,.04) inset}
.gauge .title{font-size:13px;color:var(--muted);margin-bottom:6px}
.gauge .value{font-size:22px;font-weight:800}
.contribs{display:grid;grid-template-columns:repeat(5,1fr);gap:12px}
.contrib{background:var(--card);padding:14px;border-radius:12px}
.contrib .title{font-size:13px;color:var(--muted);margin-bottom:6px}
.contrib .bar{height:8px;border-radius:6px;background:#223046;overflow:hidden}
.contrib .bar > span{display:block;height:100%}
.btn{display:inline-block;background:var(--accent);color:#001528;text-decoration:none;padding:8px 12px;border-radius:8px;font-weight:800}
.footer{display:flex;justify-content:center;padding:24px 0;color:var(--muted)}

@media(max-width:900px){
  .hero{grid-template-columns:1fr}
  .gauges{grid-template-columns:1fr}
  .contribs{grid-template-columns:1fr 1fr}
}

/* color helpers for signed numbers */
.pos { color: var(--green); font-weight: 700; }
.neg { color: var(--red);   font-weight: 700; }
.neu { color: var(--muted); font-weight: 700; }

/* risk hint colors */
.hot { color: var(--orange); }
.cool { color: var(--green); }
.neu  { color: var(--fg-muted); }

/* --- tiny sparklines --- */
.gauge .sparkline { margin-top: 8px; height: 28px; }
.gauge .sparkline svg { width: 100%; height: 28px; display: block; }
.spark-bg { stroke: #ffffff20; stroke-width: 1; fill: none; }
.spark     { stroke: var(--fg-muted); stroke-width: 2; fill: none; opacity: .9; }
.spark.up  { stroke: var(--green); }
.spark.down{ stroke: var(--orange); }

/* risk hint colors (already added earlier, keep here if missing) */
.hot { color: var(--orange); }
.cool { color: var(--green); }
.neu  { color: var(--fg-muted); }

/* --- tiny sparkline tooltips --- */
.spark-tip{
  position: fixed;
  pointer-events: none;
  background: #0b1220;
  border: 1px solid #ffffff20;
  padding: 4px 6px;
  border-radius: 4px;
  font-size: 12px;
  color: var(--fg);
  z-index: 1000;
  opacity: 0;
  transition: opacity .1s ease;
  white-space: nowrap;
}

/* --- Risk history panel --- */
.history { margin-top: 16px; padding: 16px; border: 1px solid #ffffff20; border-radius: 8px; background: #0b1220; }
.history h3 { margin: 0 0 8px 0; font-size: 14px; letter-spacing: .5px; color: var(--fg-muted); display: flex; justify-content: space-between; align-items: center; }
.history h3 .muted { color: var(--fg-muted); font-weight: normal; margin-left: 8px; }
.history a.dl { font-size: 12px; text-decoration: none; border: 1px solid #ffffff20; padding: 4px 8px; border-radius: 4px; color: var(--fg); }
.history a.dl:hover { border-color: #ffffff40; }

.history svg { width: 100%; height: 160px; display: block; }
.band-green  { fill: var(--green);  opacity: .10; }
.band-yellow { fill: var(--orange); opacity: .10; }
.band-red    { fill: #ff4d4d;       opacity: .12; }
.risk-line   { fill: none; stroke: var(--fg); stroke-width: 2; }
.last-dot    { fill: var(--fg); opacity: .9; }

/* status line under each card */
.status { margin-top: 6px; font-size: 11px; color: var(--fg-muted); display: flex; align-items: center; gap: 6px; }
.dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; opacity: .85; }
.dot.ok    { background: var(--green); }
.dot.stale { background: var(--orange); }
.dot.down  { background: #ff4d4d; }
.dot.neu   { background: #9aa4b1; opacity: .5; }
